<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Liste des pointages appellée depuis la fiche de l'employee -->
        <record model="ir.actions.act_window" id="is_pointage_action2">
            <field name="context">{'default_employee': active_id, 'search_default_employee': active_id}</field>
            <field name="name">Pointages</field>
            <field name="res_model">is.pointage</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- Liste des badges appellée depuis la fiche de l'employee -->
        <record model="ir.actions.act_window" id="is_badge_action2">
            <field name="context">{'default_employee': active_id, 'search_default_employee': active_id}</field>
            <field name="name">Badges</field>
            <field name="res_model">is.badge</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="is_view_employee_form" model="ir.ui.view">
            <field name="name">is_view_employee_form</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_form"/>
            <field name="arch" type="xml">

                <div name="button_box" position="inside">
                    <button class="oe_stat_button" name="%(is_badge_action2)d" type="action" icon="fa-user">
                        <div class="o_stat_info">
                            <span class="o_stat_value">
                                <field name="is_badge_count"/>
                            </span>
                            <span class="o_stat_text">Badge</span>
                        </div>
                    </button>
                    <button class="oe_stat_button" name="%(is_pointage_action2)d" type="action" icon="fa-clock">
                        <div class="o_stat_info">
                            <span class="o_stat_value">
                                <field name="is_pointage_count"/>
                            </span>
                            <span class="o_stat_text">Pointages</span>
                        </div>
                    </button>
                </div>

<!-- 
                            <field string="Badge" name="is_badge_count" widget="statinfo" />
                        </button>
                        <button class="oe_inline oe_stat_button" name="%(is_pointage_action2)d" type="action" icon="fa-clock-o">
                            <field string="Pointages" name="is_pointage_count" widget="statinfo" />
                        </button>
                </div> -->


<!-- 
                            <button id="hr_presence_button" class="oe_stat_button" disabled="1" attrs="{'invisible': ['|', ('last_activity', '=', False), ('user_id', '=', False)]}">
                                <div role="img" class="fa fa-fw fa-circle text-success o_button_icon" attrs="{'invisible': [('hr_presence_state', '!=', 'present')]}" aria-label="Available" title="Available"/>
                                <div role="img" class="fa fa-fw fa-circle text-warning o_button_icon" attrs="{'invisible': [('hr_presence_state', '!=', 'to_define')]}" aria-label="Away" title="Away"/>
                                <div role="img" class="fa fa-fw fa-circle text-danger o_button_icon" attrs="{'invisible': [('hr_presence_state', '!=', 'absent')]}" aria-label="Not available" title="Not available"/>

                                <div class="o_stat_info" attrs="{'invisible': [('hr_presence_state', '=', 'present')]}">
                                    <span class="o_stat_text">
                                        Not Connected
                                    </span>
                                </div>
                                <div class="o_stat_info" attrs="{'invisible': [('hr_presence_state', '!=', 'present')]}">
                                    <span class="o_stat_value" attrs="{'invisible': [('last_activity_time', '=', False)]}">
                                        <field name="last_activity_time"/>
                                    </span>
                                    <span class="o_stat_value" attrs="{'invisible': [('last_activity_time', '!=', False)]}">
                                        <field name="last_activity"/>
                                    </span>
                                    <span class="o_stat_text">Present Since</span>
                                </div>
                            </button> -->



                <page name="public" position="after">
                    <page string="Horaires">
                        <group>
                            <field name="is_workcenter_ids" widget="many2many_tags" />
                        </group>
                    </page>
                    <page string="Pointage">
                        <group>
                            <group string="Paramètrage">
                                <field name="is_matricule"/>
                                <field name="is_categorie"/>
                                <field name="is_interimaire"/>
                            </group>
                            <group string="Horaires">
                                <field name="is_jour1"/>
                                <field name="is_jour2"/>
                                <field name="is_jour3"/>
                                <field name="is_jour4"/>
                                <field name="is_jour5"/>
                                <field name="is_jour6"/>
                                <field name="is_jour7"/>
                            </group>
                        </group>
                    </page>
                </page>
            </field>
        </record>
        <record id="is_view_employee_tree" model="ir.ui.view">
            <field name="name">is.hr.employee.tree</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_tree"/>
            <field name="arch" type="xml">
                <field name="work_phone" position="replace">
                    <field name="is_matricule"/>
                </field>
                <field name="work_email" position="replace">
                    <field name="is_categorie"/>
                </field>
                <field name="department_id" position="after">
                    <field name="is_interimaire"/>
                    <field name="is_jour1" invisible="context.get('invisible_horaire', True)"/>
                    <field name="is_jour2" invisible="context.get('invisible_horaire', True)"/>
                    <field name="is_jour3" invisible="context.get('invisible_horaire', True)"/>
                    <field name="is_jour4" invisible="context.get('invisible_horaire', True)"/>
                    <field name="is_jour5" invisible="context.get('invisible_horaire', True)"/>
                    <field name="is_jour6" invisible="context.get('invisible_horairet', True)"/>
                    <field name="is_jour7" invisible="context.get('invisible_horaire', True)"/>
                </field>
                <field name="job_id" position="replace" />
                <field name="parent_id" position="replace" />
            </field>
        </record>
        <record id="is_view_employee_filter" model="ir.ui.view">
            <field name="name">is_view_employee_filter</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_filter"/>
            <field name="arch" type="xml">
                    <field name="name" position="after">
                        <field name="is_matricule"/>
                        <field name="is_categorie"/>
                        <field name="is_interimaire"/>
                    </field>
                    <!-- <group string="Group By" position="before">
                        <group string="Filtres">
                            <filter string="Employés"     name="is_interimaire" domain="[('is_interimaire','!=',True)]" />
                            <filter string="Intérimaires" name="is_interimaire" domain="[('is_interimaire','=',True)]" />
                        </group>
                    </group> -->
                    <!-- <filter string="Manager" position="before">
                        <filter string="Catégorie"   context="{'group_by': 'is_categorie'}"/>
                        <filter string="Intérimaire" context="{'group_by': 'is_interimaire'}"/>
                    </filter> -->
                    <!-- <group string="Group By" position="after">
                        <group string="Afficher les champs">
                            <filter string="Horaires" context="{'invisible_horaire': False}" />
                        </group>
                    </group> -->
             </field>
         </record>
        <!-- Pour surcharger une action (ici changer l'ordre des vues), il suffit de mettre le même id que l'action d'origine (et son module en préfix) -->
        <!-- <record id="hr.open_view_employee_list_my" model="ir.actions.act_window">
            <field name="name">Employees test</field>
            <field name="context">{}</field>
            <field name="view_mode">tree,form</field>
        </record> -->


        <!-- Pour surcharger un menu (ici changer son action), il suffit de mettre le même id que le menu d'origine (et son module en préfix) -->
    </data>
</odoo>
