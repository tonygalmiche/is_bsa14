<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- is.devis.parametrable -->
        <record id="is_devis_parametrable_seq" model="ir.sequence">
            <field name="name">Devis paramètrable</field>
            <field name="code">is.devis.parametrable</field>
            <field name="padding">5</field>
            <field eval="False" name="company_id"/>
        </record>
        <record id="is_devis_parametrable_tree" model="ir.ui.view">
            <field name="name">is.devis.parametrable.tree</field>
            <field name="model">is.devis.parametrable</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                    <field name="createur_id"/>
                    <field name="date_creation" />
                    <field name="partner_id"/>
                    <field name="commentaire"      optional="hide"/>
                    <field name="total_equipement" optional="show" sum="Total"/>
                </tree>
            </field>
        </record>
        <record id="is_devis_parametrable_form" model="ir.ui.view">
            <field name="name">is.devis.parametrable.form</field>
            <field name="model">is.devis.parametrable</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <style>
                            .o_form_view .o_form_sheet_bg > .o_form_sheet{
                                max-width: 1800px;
                            }
                        </style>
                        <group>
                            <group>
                                <field name="name" />
                                <field name="partner_id" />
                            </group>
                           <group>
                                <field name="date_creation" />
                                <field name="createur_id"/>
                            </group>
                        </group>
                        <field name="section_ids"/>
                        <field name="variante_ids">
                            <tree editable="bottom">
                                <field name="devis_id" invisible="1"/>
                                <field name="quantite"          optional="show"/>
                                <field name="marge_matiere"     optional="show"/>
                                <field name="marge_equipement"  optional="show"/>
                                <field name="marge_montage"     optional="show"/>
                                <field name="tps_be"            optional="show" widget="float_time"/>
                                <field name="marge_be"          optional="show"/>
                                <field name="marge_revendeur"   optional="show"/>
                                <field name="gain_productivite" optional="show"/>
                            </tree>
                        </field>
                        <group>
                            <field name="commentaire"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_devis_parametrable_search" model="ir.ui.view">
            <field name="name">is.devis.parametrable.search</field>
            <field name="model">is.devis.parametrable</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="createur_id"/>
               </search>
            </field>
        </record>
        <record id="is_devis_parametrable_action" model="ir.actions.act_window">
            <field name="name">Devis paramètrable</field>
            <field name="res_model">is.devis.parametrable</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- is.devis.parametrable.section -->
        <record id="is_devis_parametrable_section_tree" model="ir.ui.view">
            <field name="name">is.devis.parametrable.section.tree</field>
            <field name="model">is.devis.parametrable.section</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="devis_id" invisible="1"/>
                    <field name="section_id"/>
                    <field name="montant_total" sum="Total"/>
                    <field name="tps_montage"   sum="Total"/>
                </tree>
            </field>
        </record>
        <record id="is_devis_parametrable_section_form" model="ir.ui.view">
            <field name="name">is.devis.parametrable.section.form</field>
            <field name="model">is.devis.parametrable.section</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <style>
                            .o_form_view .o_form_sheet_bg > .o_form_sheet{
                                max-width: 1800px;
                            }
                        </style>
                        <group>
                            <group>
                                <field name="devis_id" invisible="1"/>
                                <field name="section_id"/>
                            </group>
                         </group>
                        <field name="product_ids">
                            <tree editable="bottom">
                                <field name="section_id" invisible="1"/>
                                <field name="type_equipement_id"/>
                                <field name="product_id" domain="[('is_type_equipement_id', '=', type_equipement_id)]"/>
                                <field name="quantite"                   sum="Total"/>
                                <field name="uom_po_id"   optional="hide"/>
                                <field name="prix"        optional="show"/>
                                <field name="date_achat"  optional="hide"/>
                                <field name="montant"     optional="show" sum="Total"/>
                                <field name="tps_montage" optional="show" sum="Total"/>
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_devis_parametrable_section_search" model="ir.ui.view">
            <field name="name">is.devis.parametrable.section.search</field>
            <field name="model">is.devis.parametrable.section</field>
            <field name="arch" type="xml">
                <search>
                    <field name="devis_id"/>
                    <!-- <field name="section_devis type_equipement_id"/> -->
               </search>
            </field>
        </record>
        <record id="is_devis_parametrable_section_action" model="ir.actions.act_window">
            <field name="name">Sections des devis</field>
            <field name="res_model">is.devis.parametrable.section</field>
            <field name="view_mode">tree,form</field>
        </record>




        <!-- is.type.equipement -->
        <record id="is_type_equipement_tree" model="ir.ui.view">
            <field name="name">is.type.equipement.tree</field>
            <field name="model">is.type.equipement</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                    <field name="tps_montage" widget="float_time"/>
                </tree>
            </field>
        </record>
        <record id="is_type_equipement_form" model="ir.ui.view">
            <field name="name">is.type.equipement.form</field>
            <field name="model">is.type.equipement</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                                <field name="tps_montage" widget="float_time"/>
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_type_equipement_search" model="ir.ui.view">
            <field name="name">is.type.equipement.search</field>
            <field name="model">is.type.equipement</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
               </search>
            </field>
        </record>
        <record id="is_type_equipement_action" model="ir.actions.act_window">
            <field name="name">Type d'équipement</field>
            <field name="res_model">is.type.equipement</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- is.section.devis -->
        <record id="is_section_devis_tree" model="ir.ui.view">
            <field name="name">is.section.devis.tree</field>
            <field name="model">is.section.devis</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                </tree>
            </field>
        </record>
        <record id="is_section_devis_form" model="ir.ui.view">
            <field name="name">is.section.devis.form</field>
            <field name="model">is.section.devis</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_section_devis_search" model="ir.ui.view">
            <field name="name">is.section.devis.search</field>
            <field name="model">is.section.devis</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
               </search>
            </field>
        </record>
        <record id="is_section_devis_action" model="ir.actions.act_window">
            <field name="name">Section devis</field>
            <field name="res_model">is.section.devis</field>
            <field name="view_mode">tree,form</field>
        </record>

    </data>
</odoo>
