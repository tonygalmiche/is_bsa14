<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- is.devis.parametrable -->
        <record id="is_devis_parametrable_seq" model="ir.sequence">
            <field name="name">Devis paramètrable</field>
            <field name="code">is.devis.parametrable</field>
            <field name="padding">5</field>
            <field eval="False" name="company_id"/>
        </record>
        <record id="is_devis_parametrable_tree" model="ir.ui.view">
            <field name="name">is.devis.parametrable.tree</field>
            <field name="model">is.devis.parametrable</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                    <field name="designation"/>
                    <field name="capacite"/>
                    <field name="unite"/>
                    <field name="type_cuve_id"/>
                    <field name="createur_id"      optional="show" />
                    <field name="date_creation" />
                    <field name="partner_id"/>
                    <field name="commentaire"      optional="hide"/>
                    <field name="total_equipement" optional="show" sum="Total"/>
                </tree>
            </field>
        </record>
        <record id="is_devis_parametrable_form" model="ir.ui.view">
            <field name="name">is.devis.parametrable.form</field>
            <field name="model">is.devis.parametrable</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <button
                            name="creation_section_action"
                            type="object"
                            string="Nouvelle section"
                        />
                        <button
                            name="creation_variante_action"
                            type="object"
                            string="Nouvelle variante"
                        />
                        <button
                            name="actualiser_prix_action"
                            type="object"
                            string="Actualiser les prix"
                        />
                    </header>
                    <sheet>
                        <style>
                            .o_form_view .o_form_sheet_bg > .o_form_sheet{
                                max-width: 1800px;
                            }
                        </style>
                        <group>
                            <group>
                                <field name="name"/>
                                <field name="designation"/>
                                <field name="capacite"/>
                                <field name="unite"/>
                                <field name="type_cuve_id"/>
                                <field name="partner_id"/>
                            </group>
                           <group>
                                <field name="date_creation"/>
                                <field name="date_actualisation" readonly="1"/>
                                <field name="createur_id"/>
                                <field name="tps_montage"     invisible="1" widget="float_time"/>
                                <field name="montant_matiere" invisible="1"/>
                            </group>
                        </group>
                        <group string="Matières">
                            <field name="matiere_ids" nolabel="1">
                                <tree editable="bottom">
                                    <field name="devis_id" invisible="1"/>
                                    <field name="section_id"/>
                                    <field name="matiere_id"/>
                                    <field name="poids" sum="Total"/>
                                    <field name="prix_achat"/>
                                    <field name="montant" sum="Total"/>
                                </tree>
                            </field>
                        </group>
                        <group string="Dimensions">
                            <field name="dimension_ids" nolabel="1">
                                <tree editable="bottom">
                                    <field name="devis_id" invisible="1"/>
                                    <field name="dimension_id"/>
                                    <field name="description"/>
                                    <field name="valeur"/>
                                </tree>
                            </field>
                        </group>
                        <group string="Sections">
                            <field name="section_ids" nolabel="1" readonly="1">
                                <tree>
                                    <button title="Section" name="acceder_section_action" type="object" icon="fa-search-plus"/>
                                    <field name="devis_id" invisible="1"/>
                                    <field name="section_id"/>
                                    <field name="montant_total" sum="Total"/>
                                    <field name="tps_montage"   sum="Total" widget="float_time"/>
                                </tree>
                            </field>
                        </group>
                        <group string="Variantes">
                            <field name="variante_ids" nolabel="1" readonly="1">
                                <tree>
                                    <button title="Variante" name="acceder_variante_action" type="object" icon="fa-search-plus"/>
                                    <field name="devis_id" invisible="1"/>
                                    <field name="name"              optional="show"/>
                                    <field name="quantite"          optional="show"/>
                                    <field name="marge_matiere"     optional="show"/>
                                    <field name="marge_equipement"  optional="show"/>
                                    <field name="marge_montage"     optional="show"/>
                                    <field name="tps_be"            optional="show" widget="float_time"/>
                                    <field name="marge_be"          optional="show"/>
                                    <field name="marge_revendeur"   optional="show"/>
                                    <field name="gain_productivite" optional="show"/>

                                    <field name="prix_vente_lot"              optional="show"/>
                                    <field name="prix_vente_revendeur_lot"    optional="hide"/>
                                    <field name="montant_marge_lot"           optional="hide"/>
                                    <field name="montant_marge_revendeur_lot" optional="hide"/>
                                    <field name="prix_vente"                  optional="show"/>
                                    <field name="prix_vente_revendeur"        optional="hide"/>
                                    <field name="montant_marge"               optional="hide"/>
                                    <field name="montant_marge_revendeur"     optional="hide"/>
                                </tree>
                            </field>
                        </group>
                        <group>
                            <field name="commentaire"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_devis_parametrable_search" model="ir.ui.view">
            <field name="name">is.devis.parametrable.search</field>
            <field name="model">is.devis.parametrable</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
                    <field name="designation"/>
                    <field name="partner_id"/>
                    <field name="createur_id"/>
               </search>
            </field>
        </record>
        <record id="is_devis_parametrable_action" model="ir.actions.act_window">
            <field name="name">Devis paramètrable</field>
            <field name="res_model">is.devis.parametrable</field>
            <field name="view_mode">tree,form</field>
        </record>



        <!-- is.devis.parametrable.variante -->
        <record id="is_devis_parametrable_variante_form" model="ir.ui.view">
            <field name="name">is.devis.parametrable.variante.form</field>
            <field name="model">is.devis.parametrable.variante</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <style>
                            .o_form_view .o_form_sheet_bg > .o_form_sheet{
                                max-width: 1800px;
                            }
                        </style>
                        <group string="Paramètres">
                            <group>
                                <field name="devis_id" readonly="1"/>
                                <field name="name"/>
                                <field name="quantite"/>
                                <field name="tps_be" widget="float_time"/>
                            </group>
                            <group>
                                <field name="marge_matiere"/>
                                <field name="marge_equipement"/>
                                <field name="marge_montage"/>
                                <field name="marge_be"/>
                                <field name="marge_revendeur"/>
                                <field name="gain_productivite"/>
                            </group>
                        </group>
                        <group>
                            <group string="Prix de revient lot">
                                <field name="montant_matiere"/>
                                <field name="montant_equipement"/>
                                <field name="tps_montage" widget="float_time"/>
                                <field name="montant_montage"/>
                                <field name="montant_montage_productivite"/>
                                <field name="montant_be"/>
                                <field name="montant_total"/>
                            </group>
                            <group string="Prix de revient">
                                <field name="montant_unitaire"/>
                            </group>
                            <group string="Prix de vente Lot">
                                <field name="prix_vente_lot"/>
                                <field name="prix_vente_revendeur_lot"/>
                                <field name="montant_marge_lot"/>
                                <field name="montant_marge_revendeur_lot"/>
                            </group>
                            <group string="Prix de vente Unitaire">
                                <field name="prix_vente"/>
                                <field name="prix_vente_revendeur"/>
                                <field name="montant_marge"/>
                                <field name="montant_marge_revendeur"/>
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>


        <!-- is.devis.parametrable.section -->
        <record id="is_devis_parametrable_section_tree" model="ir.ui.view">
            <field name="name">is.devis.parametrable.section.tree</field>
            <field name="model">is.devis.parametrable.section</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="devis_id" invisible="1"/>
                    <field name="section_id"/>
                    <field name="montant_total" sum="Total"/>
                    <field name="tps_montage"   sum="Total" widget="float_time"/>
                </tree>
            </field>
        </record>
        <record id="is_devis_parametrable_section_form" model="ir.ui.view">
            <field name="name">is.devis.parametrable.section.form</field>
            <field name="model">is.devis.parametrable.section</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <style>
                            .o_form_view .o_form_sheet_bg > .o_form_sheet{
                                max-width: 1800px;
                            }
                        </style>
                        <group>
                            <group>
                                <field name="devis_id" invisible="1"/>
                                <field name="section_id"/>
                                <field name="tps_montage" widget="float_time"/>
                            </group>
                         </group>
                        <field name="product_ids">
                            <tree editable="bottom">
                                <field name="section_id" invisible="1"/>
                                <field name="type_equipement_id"/>
                                <field name="product_id" domain="[('is_type_equipement_id', '=', type_equipement_id)]"/>
                                <field name="description"/>
                                <field name="quantite"                   sum="Total"/>
                                <field name="uom_po_id"   optional="hide"/>
                                <field name="prix"        optional="show"/>
                                <field name="date_achat"  optional="hide"/>
                                <field name="montant"     optional="show" sum="Total"/>
                                <field name="tps_montage" optional="show" sum="Total" widget="float_time"/>
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_devis_parametrable_section_search" model="ir.ui.view">
            <field name="name">is.devis.parametrable.section.search</field>
            <field name="model">is.devis.parametrable.section</field>
            <field name="arch" type="xml">
                <search>
                    <field name="devis_id"/>
                    <!-- <field name="section_devis type_equipement_id"/> -->
               </search>
            </field>
        </record>
        <record id="is_devis_parametrable_section_action" model="ir.actions.act_window">
            <field name="name">Sections des devis</field>
            <field name="res_model">is.devis.parametrable.section</field>
            <field name="view_mode">tree,form</field>
        </record>




        <!-- is.type.equipement -->
        <record id="is_type_equipement_tree" model="ir.ui.view">
            <field name="name">is.type.equipement.tree</field>
            <field name="model">is.type.equipement</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                    <field name="tps_montage" widget="float_time"/>
                </tree>
            </field>
        </record>
        <record id="is_type_equipement_form" model="ir.ui.view">
            <field name="name">is.type.equipement.form</field>
            <field name="model">is.type.equipement</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                                <field name="tps_montage" widget="float_time"/>
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_type_equipement_search" model="ir.ui.view">
            <field name="name">is.type.equipement.search</field>
            <field name="model">is.type.equipement</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
               </search>
            </field>
        </record>
        <record id="is_type_equipement_action" model="ir.actions.act_window">
            <field name="name">Type d'équipement</field>
            <field name="res_model">is.type.equipement</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- is.section.devis -->
        <record id="is_section_devis_tree" model="ir.ui.view">
            <field name="name">is.section.devis.tree</field>
            <field name="model">is.section.devis</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                </tree>
            </field>
        </record>
        <record id="is_section_devis_form" model="ir.ui.view">
            <field name="name">is.section.devis.form</field>
            <field name="model">is.section.devis</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_section_devis_search" model="ir.ui.view">
            <field name="name">is.section.devis.search</field>
            <field name="model">is.section.devis</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
               </search>
            </field>
        </record>
        <record id="is_section_devis_action" model="ir.actions.act_window">
            <field name="name">Section devis</field>
            <field name="res_model">is.section.devis</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- is.type.cuve -->
        <record id="is_type_cuve_tree" model="ir.ui.view">
            <field name="name">is.type.cuve.tree</field>
            <field name="model">is.type.cuve</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                    <field name="perte_decoupe"/>
                </tree>
            </field>
        </record>
        <record id="is_type_cuve_form" model="ir.ui.view">
            <field name="name">is.type.cuve.form</field>
            <field name="model">is.type.cuve</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                                <field name="perte_decoupe"/>
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_type_cuve_search" model="ir.ui.view">
            <field name="name">is.type.cuve.search</field>
            <field name="model">is.type.cuve</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
               </search>
            </field>
        </record>
        <record id="is_type_cuve_action" model="ir.actions.act_window">
            <field name="name">Type de cuve</field>
            <field name="res_model">is.type.cuve</field>
            <field name="view_mode">tree,form</field>
        </record>


        <!-- is.matiere -->
        <record id="is_matiere_tree" model="ir.ui.view">
            <field name="name">is.matiere.tree</field>
            <field name="model">is.matiere</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                    <field name="prix_achat"/>
                    <field name="epaisseur"/>
                    <field name="type_matiere" />
                    <field name="finition_interieur" />
                    <field name="finition" />
                </tree>
            </field>
        </record>
        <record id="is_matiere_form" model="ir.ui.view">
            <field name="name">is.matiere.form</field>
            <field name="model">is.matiere</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                                <field name="prix_achat"/>
                                <field name="epaisseur"/>
                                <field name="type_matiere" />
                                <field name="finition_interieur" />
                                <field name="finition" />
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_matiere_search" model="ir.ui.view">
            <field name="name">is.matiere.search</field>
            <field name="model">is.matiere</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
               </search>
            </field>
        </record>
        <record id="is_matiere_action" model="ir.actions.act_window">
            <field name="name">Matière</field>
            <field name="res_model">is.matiere</field>
            <field name="view_mode">tree,form</field>
        </record>



        <!-- is.dimension -->
        <record id="is_dimension_tree" model="ir.ui.view">
            <field name="name">is.dimension.tree</field>
            <field name="model">is.dimension</field>
            <field name="arch" type="xml">
                <tree >
                    <field name="name"/>
                </tree>
            </field>
        </record>
        <record id="is_dimension_form" model="ir.ui.view">
            <field name="name">is.dimension.form</field>
            <field name="model">is.dimension</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="name" />
                            </group>
                         </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_dimension_search" model="ir.ui.view">
            <field name="name">is.dimension.search</field>
            <field name="model">is.dimension</field>
            <field name="arch" type="xml">
                <search>
                    <field name="name"/>
               </search>
            </field>
        </record>
        <record id="is_dimension_action" model="ir.actions.act_window">
            <field name="name">Dimensions</field>
            <field name="res_model">is.dimension</field>
            <field name="view_mode">tree,form</field>
        </record>


    </data>
</odoo>
