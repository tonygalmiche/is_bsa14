<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!--  is.tracabilite.livraison -->            
        <record id="is_tracabilite_livraison_affectation_tree" model="ir.ui.view">
            <field name="name">is_tracabilite_livraison_affectation_tree</field>
            <field name="model">is.tracabilite.livraison</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name" />
                    <field name="production_id" />
                    <field name="lot_fabrication" />
                    <field name="product_id" />
                    <field name="fabrique" />
                </tree>
            </field>
        </record>

        <!--  is.affecter.etiquette.livraison -->            
        <record id="is_affecter_etiquette_livraison_form_view" model="ir.ui.view">
            <field name="name">is_affecter_etiquette_livraison_form_view</field>
            <field name="model">is.affecter.etiquette.livraison</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="operateur_livraison_id"/>
                            <field name="move_id"/>
                            <field name="product_id"/>
                        </group>
                        <group>
                            <field 
                                name="etiquette_ids"
                                nolabel="1" 
                                domain="[('product_id','=',product_id),('move_id','=',False),('livraison','=',False),('fabrique','!=',False)]"
                                context="{'tree_view_ref': 'is_bsa.is_tracabilite_livraison_affectation_tree'}"
                            > 
                                <tree>
                                    <field name="name" />
                                    <field name="production_id" />
                                    <field name="lot_fabrication" />
                                    <field name="product_id" />
                                    <field name="fabrique" />
                                </tree>
                            </field>
                        </group>
                    </sheet>
                    <footer>
                        <button string="OK" name="ok_action" type="object" class="oe_highlight"/>
                        ou
                        <button string="Annuler" class="oe_link" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        <record id="is_affecter_etiquette_livraison_action" model="ir.actions.act_window" >
            <field name="name">Affecter étiquettes de livraison</field>
            <field name="res_model">is.affecter.etiquette.livraison</field>
            <field name="view_mode">form,tree</field>
        </record>

        <!-- is.stock.category -->
        <record id="view_is_stock_category_form" model="ir.ui.view">
            <field name="name">is.stock.category.form</field>
            <field name="model">is.stock.category</field>
            <field name="arch" type="xml">
                <form string="Stock Category" version="7.0">
                    <sheet>                
                        <group>
                            <field name="name"  />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="view_is_stock_category_tree" model="ir.ui.view">
            <field name="name">is.stock.category.tree</field>
            <field name="model">is.stock.category</field>
            <field name="arch" type="xml">
                <tree string="Category">
                    <field name="name" />
                </tree>
            </field>
        </record>
        <record id="action_is_stock_category_config" model="ir.actions.act_window">
            <field name="name">Catégorie de stock</field>
            <field name="res_model">is.stock.category</field>
            <field name="view_mode">tree,form</field>
        </record>

        
        <!-- stock.quant -->
        <record id="stock_quant_tree_inherit_view" model="ir.ui.view">
            <field name="name">stock.quant.tree.inherit</field>
            <field name="model">stock.quant</field>
            <field name="inherit_id" ref="stock.view_stock_quant_tree"/>
            <field name="arch" type="xml">
                <field name="product_id" position="after">
                    <field name="product_stock_category_id" />
                </field>                
            </field>
        </record>
        <record id="stock_quant_search_inherit_view" model="ir.ui.view">
            <field name="name">stock.quant.search.inherit</field>
            <field name="model">stock.quant</field>
            <field name="inherit_id" ref="stock.quant_search_view"/>
            <field name="arch" type="xml">
                <field name="owner_id" position="after">
                    <field name="product_stock_category_id" />
                </field>                
            </field>
        </record>
        


        <!-- stock.inventory -->
        <record id="stock_inventory_form_inherit_view" model="ir.ui.view">
            <field name="name">stock.inventory.form.inherit</field>
            <field name="model">stock.inventory</field>
            <field name="inherit_id" ref="stock.view_inventory_form"/>
            <field name="arch" type="xml">
                <button name="action_print" position="after">
                    <button name="action_force_date_inventaire" states="done" string="Forcer la date de l'inventaire" confirm="Voulez-vous vraiment forcer la date des mouvements de stock de cet inventaire ?" type="object"/>
                </button>
                <field name="product_ids" position="after">
                    <field name="product_stock_category_id" attrs="{'readonly': [('state', '!=', 'draft')]}" />
                    <field name="is_date_forcee"/>
                </field>
            </field>
        </record>

                <!-- 
                <field name="product_id" position="attributes">
                    <attribute name="domain">[('type','=','product'),'|',('is_stock_category_id', '=', False),('is_stock_category_id', '=', product_stock_category_id)]</attribute>
                </field>
                <xpath expr="//field[@name='line_ids']/tree/field[@name='product_id']" position="attributes">
                    <attribute name="domain">[('type','=','product'),'|',('is_stock_category_id', '=', False),('is_stock_category_id', '=', parent.product_stock_category_id)]</attribute>
                </xpath>                 
                -->





        <!-- stock.move -->
        <record id="is_stock_view_move_form" model="ir.ui.view">
            <field name="name">is_stock_view_move_form</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_form"/>
            <field name="arch" type="xml">
                <field name="group_id" position="after">
                    <field name="picking_id"/>
                    <field name="is_account_move_line_id"/>
                </field>
            </field>
        </record>
        <record id="is_view_move_tree_receipt_picking" model="ir.ui.view">
            <field name="name">is_view_move_tree_receipt_picking</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_tree_receipt_picking"/>
            <field name="arch" type="xml">
                <field name="product_uom" position="after">
                    <field name="is_date_ar"/>
                    <field name="is_date_planned"/>
                </field>
            </field>
        </record>
        <record id="is_view_move_tree" model="ir.ui.view">
            <field name="name">is_view_move_tree_receipt_picking</field>
            <field name="model">stock.move</field>
            <field name="inherit_id" ref="stock.view_move_tree"/>
            <field name="arch" type="xml">
                <field name="reference" position="after">
                    <field name="origin"/>
                </field>
            </field>
        </record>


        <!-- stock.move.line -->
        <record id="is_stock_view_move_line_form" model="ir.ui.view">
            <field name="name">is_stock_view_move_line_form</field>
            <field name="model">stock.move.line</field>
            <field name="inherit_id" ref="stock.view_move_line_form"/>
            <field name="arch" type="xml">
                <field name="location_dest_id" position="after">
                    <field name="move_id"/>
                </field>
            </field>
        </record>
        <record id="is_stock_view_move_line_tree" model="ir.ui.view">
            <field name="name">is_stock_view_move_line_tree</field>
            <field name="model">stock.move.line</field>
            <field name="inherit_id" ref="stock.view_move_line_tree"/>
            <field name="arch" type="xml">
                <field name="location_dest_id" position="after">
                    <field name="move_id" optional="hide"/>
                </field>
            </field>
        </record>





    </data>
</odoo>
